import { Canvas, Meta, Story } from '@storybook/addon-docs';
import { withConsole } from '@storybook/addon-console';
import Clickable from '.';
import tags from './tags';

<Meta title="Example/clickable" component={Clickable} />

export const Template = (args) => {
  return <Clickable {...args} />;
};

## Usage - Clickable in Button

```jsx dark
import Button from '@mui/material/Button';
import { withTaggingClickable, useInitialize } from 'at-helpers';

const TrackingButton = withTaggingClickable(Button);

export const MyComponent = ({ tags }) => {
  useInitialize({
    pathname: '/home',
    tags,
  });
  return (
    <TrackingButton
      variant="contained"
      identifier="home-next-step"
      onClick={() => {
        console.log('click');
      }}
    >
      Next step
    </TrackingButton>
  );
};

export default App;
```

## The tags json
  
  ```json dark
  [
  {
    "tag": {
      "pageName": "Home",
      "section": "clickable-page"
    },
    "meta": {
      "name": "home"
    },
    "identifier": "/home",
    "type": "page",
    "event": "page_view",
    "rules": {
      "page": {
        "name": "<pageName>:<section>"
      } 
    }
  },
  {
    "tag": {
      "buttonName": "next-step"
    },
    "meta": {
      "location": "/home"
    },
    "parent": "/home",
    "identifier": "home-next-step",
    "type": "button",
    "event": "button_click",
    "rules": {
      "button": {
        "name": "<buttonName>"
      } 
    }
  }
]
  ``` 

<Story
  name="default"
  args={{
    tags,
  }}
>
  {Template.bind({})}
</Story>
